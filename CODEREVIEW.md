# 1. Code Review

- gitHub:

    <https://github.com/dovczitter/Mp3Recorder-Python>

- Python classes:

    - main.py

        *buildozer* requires 'main.py' entrypoint.

        class Mp3RecorderApp(MDApp):

            - package name, lowercase, in buildozer.spec.
            - added kivymd color scheme

        class Mp3Recorder(MDBoxLayout):

            - apk mainline class linked to mp3recorder.ky <Mp3Recorder> functions

            - def __init__
                initiallize record state, scroll view, permissions, timer.
            - def timer()
                Update current time label, with added wifi indication.
            - def record()
                Applies start and stop recording BUTTON, calls Recorder() class for actual implementation. Defines recorded file with timestamp unique name.  
            - def email()
                Email the latest recorded file, via Recorder().email().
            - def emailfile()
                File chooser popup for mp3 file selection, mp3recorder.ky <LoadDialog>, email this filename via Recorder().email().
            - def exit()
                Call Recorder() to close app 

        class LoadDialog(FloatLayout):

            - def sort_by_date():    

            - def sort_by_name():

        class Root(FloatLayout):

            - def dismiss_popup():

            - def show_load():

            - def emailfile():

    - recorder.py

        Configured at Recorder() class initalization via the Documents/Mp3Recorder.csv [Android editable, default generated by apk if not present]

        class Recorder():

            - def __init__
                android MediaRecorder assignment
            - def configInit()
                App configuration via Mp3Recorder.csv, called after permissions have been granted due to file access requirement. 
            - def record_start()
                Called from <Mp3Recorder> initial 'START Recording' button, checks permissions,creates_recorder() and record_start(), results in button label change to 'STOP Recording' with state change.
            - def record_stop()
                'STOP Recording' button hit, save current recorded filename, stop and clear recorder, change record state and label to 'START Recording', log the change.
            - def email()
                Called from Mp3Recorder().email(filename),
                call Recorder().send_email() to actually email the file.
            - def exit()
                Called by Mp3Recorder().exit() to actually exit the app.

    - sharedstorage.py

        - source: <https://github.com/Android-for-Python/androidstorage4kivy>

        Exposes Android 11 shared storage files, copies the default configuration Mp3Recorder.csv to Documents/Mp3Recorder, where it can be edited. This is a post Android 10 file system enforcement.

- Kivy configuration:

    - mp3recorder.kv

        - Mp3Recorder:

            MDBoxLayout : Main container, fixed vertical orientation
                
                MDRaisedButton:

                    - time_label: per second time and wifi status update with color change if wifi is down.

                    - record_button: 
                        state 'START Recording' starts the recording, changes label to 'STOP Recording' which completes the session. Logs a message with recorded filename. This is the current file which would be emailed on 'email_button'. 

                    - email_button:
                        Email the latest recorded file, only if the recording state is 'ready'

                    - emailfile_button:
                        Presents a popup list of available recorded file chooser to generate the file email.

                    - exit_button:
                        Exit this app.

                MDScrollView: Container for scrolling logging messages. 


        - LoadDialog:

            FileChooser: presents available recorded files as a list, tapping the selection defines which file will be emailed if tapping the emailfile_button.

            emailfile_button: generate the file email callback, close the popup.

            cancel_button: cancel and close the popup.

- Support files:

    - Mp3Recorder.csv
    - Mp3Recorder.png
    - README.md
    - requirements.txt

        Visual Studio pyhon build enviornment generated from working virtualenv:

            $ pip freeze > requirements.txt

        New enviornment generated withing a virtualenv:

            $ pip install -r requirements.txt  

    - .gitignore

        gitHub files to ignore.


- Build files:

# 2. Helpfull notes

- READMD.md docs:

    - markdown doc:

        <https://code.visualstudio.com/Docs/languages/markdown>
    - markdown video:

        <https://www.youtube.com/watch?v=jeOfS90Flf8&t=515s>

    - markdown VisualStudio:

        <https://marketplace.visualstudio.com/items?itemName=manuth.markdown-converter&ssr=false#overview>

- Call Class Method From Another Class:

    <https://stackoverflow.com/questions/3856413/call-class-method-from-another-class>